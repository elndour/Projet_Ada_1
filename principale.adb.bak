WITH Ada.Text_IO, Ada.Float_Text_IO, Ada.Integer_Text_IO,gestion_Outils, gestion_Personnel,Gestion_Date,gestion_tube,gestion_echantillon,Ada.Characters.Handling;
use Ada.Text_IO, Ada.Float_Text_IO, Ada.Integer_Text_IO,gestion_Outils,gestion_Personnel,Gestion_Date,gestion_tube,gestion_echantillon,Ada.Characters.Handling;

PROCEDURE Principale IS

   Tab : T_Registre;
   C : Character;
   Date_du_jour : T_Date;
   Tube : T_Tube;
   Registre_Prelevement:T_registre_Prelevement;
   Nbr_Ech_Att: Integer:=0;
   int : integer;
BEGIN
   Date_Du_Jour.Jour := 15;
   Date_Du_Jour.mois := 12;
   Date_Du_Jour.annee:= 2024;
   Loop
      Put_Line("A-Enregistrer un nouveau membre du personnel");
      Put_Line("B-Enregistrer le depart d'un membre du personnel");
      Put_Line("C-Enregistrer un nouveau prelevement");
      Put_Line("D-Enregistrer une nouvelle analyse");
      Put_Line("Visualisez:");
      Put_Line("E-La liste du personnel actuel");
      Put_Line("F-La liste des anciens personnels");
      Put_Line("G-La liste des preleveur");
      Put_Line("H-La liste des analyste");
      Put_Line("I-La liste des echantillons:");
--      Put_Line("L-La liste des analyses realisees et en attente sur un type animal donne:");
--      Put_Line("M-La liste des echantillons archives pour lesquels les analyses ont ete majoritairement negatives");
--      Put_Line("N-La liste des analyses pour lesquels aucune analyse n'a ete realise");
--      Put_Line("O-Nombre de prelevement par organe");
--      Put_Line("P-Nombre de prelevement par type d'animaux");
--      Put_Line("Q-Identite du (des) meilleurs preleveurs");
--      Put_Line("R-Identite du (des) meilleurs analystes");
      --Put_Line("I-Donner la date du jour");
      --Put_Line("J-Passer au lendemain");
      Put_Line("J-Visualiser une echantillon :Version nombre de tube");
      Put_Line("K-Visualiser une echantillon :Version complete");
      Get(C); Skip_Line;
      C:=To_Upper(C);
      Recup_Stockage(Tab);
      Recup_Stockage_Ech(Registre_Prelevement);
      CASE C IS
         WHEN 'A' =>
            Enregistrer_Nouveau_Membre;
         WHEN 'B' =>
            Enregistrer_Depart;
         WHEN 'C' =>
            Enregistrer_Tableau_Echantillons(Registre_Prelevement,tab,nbr_ech_att,Date_du_jour);
         WHEN 'D' =>
            Enregistrer_Analyse(Tube, Tab,Date_du_jour);
         WHEN 'E' =>
            Liste_Personnel;
            --Affiche(tab);
         WHEN 'F' =>
            Check_Archive;
         WHEN 'G' =>
            Affiche_Preleveur;
         WHEN 'H'  =>
            Affiche_Analyste;
         WHEN 'I'  =>
            --Saisir_DATE (Date_du_jour);
            Affich_Echantillon(Registre_Prelevement);
         WHEN 'J' =>
            Affiche_Echantillon_V1(Registre_Prelevement,Int);
         WHEN 'K' =>
            Affiche_Echantillon_V2(Registre_Prelevement);
            --Passer_Lendemain(Date_du_jour);
            --Afficher_Date(Date_Du_Jour);
         WHEN OTHERS => NULL;
      END CASE;
      Stokage_Personnel(tab);
      --Recup_Stockage(tab);
      EXIT WHEN C ='S';
   END LOOP;


END;